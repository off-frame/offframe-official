---
interface Props {
  variant?: "horizontal" | "card";
}

const { variant = "horizontal" } = Astro.props;
---

<div class={`ad-banner ad-${variant}`}>
  <slot>
    <span class="ad-label">広告枠</span>
  </slot>
</div>

<script is:inline>
  function hideAdsForPremium() {
    if (localStorage.getItem("offframe_premium") === "1") {
      document.querySelectorAll(".ad-banner").forEach(function(el) {
        el.style.display = "none";
      });
    }
  }
  document.addEventListener("astro:page-load", hideAdsForPremium);
  hideAdsForPremium();
</script>

<style>
  .ad-banner {
    background: transparent;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* slotに中身がある時は stretch で全体を埋める */
  .ad-banner:has(> :not(.ad-label)) {
    align-items: stretch;
  }

  .ad-banner :global(> a) {
    width: 100%;
  }

 

  .ad-label {
    font-family: "Cormorant Garamond", serif;
    font-weight: 300;
    font-size: 0.75rem;
    letter-spacing: 0.2em;
    color: #ccc;
  }
</style>